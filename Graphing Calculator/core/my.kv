<Graph>:
    canvas.before:
        Color:
            rgb: 1,1,1
        Rectangle:
            pos: self.pos
            size:self.size
    AxisX:
        id: axis_x
        size_hint: 1,1
        x: 160
    AxisY:
        id: axis_y
        size_hint: 1,1
        x: 160


<AxisX>:
    canvas.before:
        Color:
            rgb: 0,0,0
        Rectangle:
            pos: self.pos[0], root.center_y
            size: root.width, 3
    pos: self.parent.pos

<AxisY>:
    canvas.before:
        Color:
            rgb: 0,0,0
        Rectangle:
            pos: root.center_x, self.pos[1]
            size: 3, self.size[1]
    pos: self.parent.pos

<MarkerX>:
    graph_height: None
    marker_pos: None
    axis_x_pos: None
    canvas.before:
        PushMatrix:
        Translate:
            x: self.axis_y.x if self.axis_y else 1
        Color:
            rgb: 0,0,0
        Rectangle:
            pos: self.pos
            size: 1, self.graph_height if self.graph_height else 1
        PopMatrix:
    size: 50, self.graph_height if self.graph_height else 1
    Label:
        color: 0,0,0,1
        text: str(root.key)
        pos: root.marker_pos  - 43 if root.marker_pos else 1, root.axis_x_pos if root.axis_x_pos else 1
        canvas.before:
            PushMatrix:
            Translate:
                x: root.axis_y.x if root.axis_y else 1
            PopMatrix:

<MarkerY>:
    graph_width: None
    axis_y_pos: None
    marker_pos: None
    canvas.before:
        PushMatrix:
        Translate:
            y: self.axis_x.y if self.axis_x else 1
        Color:
            rgb: 0,0,0
        Rectangle:
            pos: self.pos
            size: self.graph_width if self.graph_width else 1 ,1
        PopMatrix:
    size: self.graph_width if self.graph_width else 1, 50
    Label:
        color: 0,0,0,1
        text: str(root.key) if root.key is not 0 else ''
        pos: root.axis_y_pos if root.axis_y_pos else 1, root.marker_pos  - 43 if root.marker_pos else 1
        canvas.before:
            PushMatrix:
            Translate:
                y: root.axis_x.y if root.axis_x else 1
            PopMatrix:


<SideBar>:
    canvas.before:
        Color:
            rgba: 1,1,1,0.2
        Rectangle:
            pos: self.pos
            size: self.size
    Label:
        pos_hint: {'top': 1}
        size_hint: 1, .05
        text: 'Graphing Calculator'
        text_size: self.size
        halign: 'center'
        valign: 'center'
    BoxLayout:
        pos_hint: {'bottom': 0}
        size_hint: 1, .05
        orientation: 'horizontal'
        Button:
            text: 'Quit'
            on_press: exit(0)
        Label:
            text: 'Test'
        Label:
            text: 'Test'
    InputField:
        pos_hint: {'top': .95}
        size_hint: 1, .9



<Button>:
    background_color: 0,0,0,0


<WidgetColor>:
    canvas.before:
        Color:
            rgba: self.r,self.b,self.g, .5
        Rectangle:
            size: root.size
            pos: root.pos
